<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CombineHarvester: ch::CardWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CombineHarvester
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classch_1_1_card_writer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ch::CardWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Automates the writing of datacards into directory structures.  
 <a href="classch_1_1_card_writer.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="_card_writer_8h_source.html">CombineHarvester/CombineTools/interface/CardWriter.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac6b92918c967a8177add4d72bfa44e90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classch_1_1_card_writer.html#ac6b92918c967a8177add4d72bfa44e90">CardWriter</a> (std::string const &amp;text_pattern, std::string const &amp;root_pattern)</td></tr>
<tr class="memdesc:ac6b92918c967a8177add4d72bfa44e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Must be constructed with text and ROOT file patterns.  <a href="#ac6b92918c967a8177add4d72bfa44e90">More...</a><br /></td></tr>
<tr class="separator:ac6b92918c967a8177add4d72bfa44e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23bf08d1ef4323fa0f96fb9da9d835e"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="classch_1_1_combine_harvester.html">CombineHarvester</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classch_1_1_card_writer.html#af23bf08d1ef4323fa0f96fb9da9d835e">WriteCards</a> (std::string const &amp;tag, <a class="el" href="classch_1_1_combine_harvester.html">ch::CombineHarvester</a> &amp;cmb) const </td></tr>
<tr class="memdesc:af23bf08d1ef4323fa0f96fb9da9d835e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write datacards according to patterns, substituting <code>$TAG</code> for <code>tag</code>  <a href="#af23bf08d1ef4323fa0f96fb9da9d835e">More...</a><br /></td></tr>
<tr class="separator:af23bf08d1ef4323fa0f96fb9da9d835e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55eae164745e2d1a4cc5a8a8cde36033"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classch_1_1_card_writer.html#a55eae164745e2d1a4cc5a8a8cde36033">SetVerbosity</a> (unsigned v)</td></tr>
<tr class="memdesc:a55eae164745e2d1a4cc5a8a8cde36033"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set &gt;= 1 for verbose output, otherwise silent.  <a href="#a55eae164745e2d1a4cc5a8a8cde36033">More...</a><br /></td></tr>
<tr class="separator:a55eae164745e2d1a4cc5a8a8cde36033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c214a68a95a4d2f09dbe45a033cce16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classch_1_1_card_writer.html#a1c214a68a95a4d2f09dbe45a033cce16">CreateDirectories</a> (bool flag)</td></tr>
<tr class="memdesc:a1c214a68a95a4d2f09dbe45a033cce16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control whether directories can be created if missing.  <a href="#a1c214a68a95a4d2f09dbe45a033cce16">More...</a><br /></td></tr>
<tr class="separator:a1c214a68a95a4d2f09dbe45a033cce16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ef01d0ec9b52687437e01db911f3c8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classch_1_1_card_writer.html#a34ef01d0ec9b52687437e01db911f3c8">SetWildcardMasses</a> (std::vector&lt; std::string &gt; const &amp;masses)</td></tr>
<tr class="memdesc:a34ef01d0ec9b52687437e01db911f3c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redefine the mass values that should be treated as wildcards.  <a href="#a34ef01d0ec9b52687437e01db911f3c8">More...</a><br /></td></tr>
<tr class="separator:a34ef01d0ec9b52687437e01db911f3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Automates the writing of datacards into directory structures. </p>
<p>A <a class="el" href="classch_1_1_card_writer.html" title="Automates the writing of datacards into directory structures. ">CardWriter</a> is constructed with two strings which give patterns for where the datacard text and ROOT files should be located and how they should be named. These patterns can contain placeholders for the object metadata, e.g.: </p><pre class="fragment">ch::CardWriter writer(
   "$TAG/$MASS/$ANALYSIS_$CHANNEL_$BINID_$ERA.txt",
   "$TAG/common/$ANALYSIS_$CHANNEL.input_$ERA.root");
</pre><p>All of the standard metadata placeholders are supported. Then, assuming a <a class="el" href="classch_1_1_combine_harvester.html">CombineHarvester</a> instance <code>cb</code> has already been configured, the cards are written with: </p><pre class="fragment">writer.WriteCards("LIMITS/cmb", cb);
</pre><p>The <a class="el" href="classch_1_1_card_writer.html" title="Automates the writing of datacards into directory structures. ">CardWriter</a> will determine the sets of root files and datacards to create given the metadata of the objects in <code>cb</code>. The first argument of <code>WriteCards</code> is substituted into the <code>$TAG</code> placeholder. In this way multiple calls to <a class="el" href="classch_1_1_card_writer.html#af23bf08d1ef4323fa0f96fb9da9d835e">WriteCards</a> can produce output in different folders.</p>
<p>By default <a class="el" href="classch_1_1_card_writer.html" title="Automates the writing of datacards into directory structures. ">CardWriter</a> will create any directories that are needed, but this behaviour can be switched off with the <code>CreateDirectories</code> method. Also note that any existing files with the same name will be over-written.</p>
<dl class="section note"><dt>Note</dt><dd>The $MASS variable is treated differently than the others when constructing the list of output files. It is anticipated that a mass value of <code>*</code> should not give rise to actual files containing the <code>*</code> character, but rather implies an <a class="el" href="classch_1_1_object.html">Object</a> that is valid for any mass-point. It is commonly used to denote background processes that do not depend on the signal mass hypothesis. Therefore this class ignores objects with a mass value of <code>*</code> when determining which files to create, and when creating the files treats this object as matching any mass value. It is possible to alter or remove this behaviour by supplying a new list of wildcard values with the <a class="el" href="classch_1_1_card_writer.html#a34ef01d0ec9b52687437e01db911f3c8">SetWildcardMasses</a> method. </dd></dl>

<p>Definition at line <a class="el" href="_card_writer_8h_source.html#l00050">50</a> of file <a class="el" href="_card_writer_8h_source.html">CardWriter.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac6b92918c967a8177add4d72bfa44e90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ch::CardWriter::CardWriter </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>text_pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>root_pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Must be constructed with text and ROOT file patterns. </p>

<p>Definition at line <a class="el" href="_card_writer_8cc_source.html#l00012">12</a> of file <a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af23bf08d1ef4323fa0f96fb9da9d835e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, <a class="el" href="classch_1_1_combine_harvester.html">CombineHarvester</a> &gt; ch::CardWriter::WriteCards </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classch_1_1_combine_harvester.html">ch::CombineHarvester</a> &amp;&#160;</td>
          <td class="paramname"><em>cmb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write datacards according to patterns, substituting <code>$TAG</code> for <code>tag</code> </p>

<p>Definition at line <a class="el" href="_card_writer_8cc_source.html#l00074">74</a> of file <a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a55eae164745e2d1a4cc5a8a8cde36033"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp; ch::CardWriter::SetVerbosity </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set &gt;= 1 for verbose output, otherwise silent. </p>

<p>Definition at line <a class="el" href="_card_writer_8cc_source.html#l00020">20</a> of file <a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1c214a68a95a4d2f09dbe45a033cce16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp; ch::CardWriter::CreateDirectories </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control whether directories can be created if missing. </p>

<p>Definition at line <a class="el" href="_card_writer_8cc_source.html#l00025">25</a> of file <a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a34ef01d0ec9b52687437e01db911f3c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classch_1_1_card_writer.html">CardWriter</a> &amp; ch::CardWriter::SetWildcardMasses </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>masses</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redefine the mass values that should be treated as wildcards. </p>

<p>Definition at line <a class="el" href="_card_writer_8cc_source.html#l00031">31</a> of file <a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>CombineTools/interface/<a class="el" href="_card_writer_8h_source.html">CardWriter.h</a></li>
<li>CombineTools/src/<a class="el" href="_card_writer_8cc_source.html">CardWriter.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
</body>
</html>
